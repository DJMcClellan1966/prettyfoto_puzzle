<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrettyFoto Puzzles ‚Äì Daily Photo Puzzle</title>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#e17055">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="PrettyFoto Puzzles">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23e17055' width='100' height='100' rx='20'/><text x='50' y='55' dominant-baseline='middle' text-anchor='middle' font-size='50'>üå∏</text></svg>">
    
    <!-- SEO & Social Search Optimization -->
    <meta name="description" content="Play daily sliding tile puzzles with beautiful nature photography from PrettyFoto. New puzzle every day! Free butterfly, flower, horse & landscape puzzles.">
    <meta name="keywords" content="nature puzzle, photo puzzle, butterfly puzzle, flower puzzle, horse puzzle, landscape puzzle, daily puzzle, free puzzle game, nature photography, art prints, PrettyFoto">
    
    <!-- Open Graph (Facebook, LinkedIn) -->
    <meta property="og:title" content="PrettyFoto Games - Daily Nature Photo Puzzles">
    <meta property="og:description" content="Solve beautiful nature photography puzzles daily! Butterflies, flowers, horses & landscapes. Free to play, satisfying to complete.">
    <meta property="og:image" content="https://images.discerningassets.com/image/upload/c_fill,w_1200,h_630,q_auto:best/v1719947771/IMG_1842_z7mzjy.jpg">
    <meta property="og:url" content="https://prettyfoto.com/puzzles">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="PrettyFoto">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="PrettyFoto Games - Daily Nature Photo Puzzles">
    <meta name="twitter:description" content="Solve beautiful nature photography puzzles daily! ü¶ãüå∏üê¥üèîÔ∏è Free to play.">
    <meta name="twitter:image" content="https://images.discerningassets.com/image/upload/c_fill,w_1200,h_630,q_auto:best/v1719947771/IMG_1842_z7mzjy.jpg">
    
    <!-- TikTok/Instagram Discovery -->
    <meta name="robots" content="index, follow">
    <meta name="author" content="PrettyFoto">
    
    <!-- Schema.org JSON-LD for Rich Results -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "PrettyFoto Games",
        "description": "Daily nature photography puzzles featuring butterflies, flowers, horses, and landscapes",
        "url": "https://prettyfoto.com/puzzles",
        "applicationCategory": "Game",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "1247"
        }
    }
    </script>
    
    <!-- LCP image origin: preconnect so image request doesn't wait for connection -->
    <link rel="preconnect" href="https://images.discerningassets.com" crossorigin>
    <!-- Non-render-blocking: CSS and fonts load async so first paint isn't delayed -->
    <link rel="preload" href="styles.css" as="style">
    <link rel="stylesheet" href="styles.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="styles.css"></noscript>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Font stylesheet loaded async (no preload) to shorten critical request chain -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap"></noscript>
</head>
<body>
    <a href="#main" class="skip-link">Skip to main content</a>
    <div class="app">
        <header class="header" role="banner">
            <a href="https://www.prettyfoto.com" target="_blank" rel="noopener" class="logo" aria-label="PrettyFoto home">
                <span class="logo-icon" aria-hidden="true">üå∏</span>
                <span class="logo-text">PrettyFoto</span>
            </a>
            <nav class="header-actions" aria-label="App actions">
                <button id="shareAppBtn" class="header-btn" type="button" aria-label="Share app">üì§</button>
                <button id="statsBtn" class="header-btn" type="button" aria-label="View statistics">üìä</button>
                <button id="soundBtn" class="header-btn" type="button" aria-label="Toggle sound">üîä</button>
                <a href="https://www.prettyfoto.com/shop-art" target="_blank" rel="noopener" class="shop-link">Shop Art ‚Üí</a>
            </nav>
        </header>

        <main id="main" class="main" role="main" aria-label="Puzzle game">
            <section id="homeView" class="view" aria-label="Home" aria-live="polite">
                <div id="sliderHome" class="game-home">
                    <header class="personalized-welcome" aria-label="Welcome">
                        <h1 id="welcomeTitle">Welcome!</h1>
                        <p id="welcomeSubtitle">Discover beautiful nature photography</p>
                    </header>

                    <section class="home-header" aria-labelledby="daily-heading">
                        <h2 id="daily-heading">Daily Puzzle</h2>
                        <p>A new puzzle every day at midnight</p>
                    </section>

                    <article id="dailyCard" class="daily-card" aria-labelledby="dailyTitle" aria-describedby="dailyCategory">
                        <div class="daily-badge">
                            <span class="daily-number" aria-hidden="true">#<span id="puzzleNumber">1</span></span>
                            <time class="daily-date" id="puzzleDate" datetime="">Feb 3, 2026</time>
                        </div>
                        <div class="daily-image-container">
                            <img id="dailyImage" src="" alt="Today's puzzle image" class="daily-image" width="300" height="300" fetchpriority="high">
                            <div id="dailyOverlay" class="daily-overlay hidden" aria-hidden="true">
                                <span class="daily-status">‚úì Completed</span>
                            </div>
                        </div>
                        <div class="daily-info">
                            <h3 id="dailyTitle">Loading...</h3>
                            <p id="dailyCategory" class="daily-category">Nature</p>
                        </div>
                        <button id="playDailyBtn" class="play-daily-btn" type="button">Play Today's Puzzle</button>
                        <p class="daily-browse-hint">Prefer to browse? Explore the gallery below ‚Äî no puzzle required.</p>
                        <div id="dailyCompleted" class="daily-completed hidden" aria-hidden="true">
                            <p>Come back tomorrow for a new puzzle!</p>
                            <div class="countdown" aria-live="polite">
                                <span class="countdown-label">Next puzzle in</span>
                                <span id="countdown" class="countdown-time" aria-label="Time until next puzzle">00:00:00</span>
                            </div>
                        </div>
                    </article>
                    <script>
                    (function() {
                        var EPOCH = new Date('2026-02-03').getTime();
                        var DAY_MS = 24 * 60 * 60 * 1000;
                        var urls = ["https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1719947771/IMG_1842_z7mzjy.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1694475326/Jennifer_McClellan_008Cfc2f-1102-42Ba-Afef-D728dcafa2b5_o6h4nh.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1737159071/2N4A4426_o4lj30.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1737159079/IMG_0594_yndoza.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1737159079/IMG_0631_nuav1f.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1693521613/Jennifer_McClellan_Img_0261_giehor.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1719113391/2N4A5107_imfztx.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1714324985/IMG_1453_ypftdw.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1700958423/IMG_8345_maatlv.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1719113429/2N4A5194_situp5.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1719113491/2N4A5195_d6urme.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1737159084/IMG_1512_q9xltq.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1719113644/2N4A4928_ugnovr.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1708488576/IMG_2866_b8y05a.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1719113554/2N4A4751_ugqv2k.jpg","https://images.discerningassets.com/image/upload/c_fill,w_600,h_600,q_auto:best/v1719113577/IMG_2394_nbgkpf.jpg"];
                        var today = new Date();
                        today.setHours(0, 0, 0, 0);
                        var puzzleNum = Math.floor((today.getTime() - EPOCH) / DAY_MS) + 1;
                        var idx = (puzzleNum - 1) % urls.length;
                        var full = urls[idx];
                        var lcpUrl = full.replace(/w_\d+,h_\d+/, "w_400,h_400").replace(/q_auto:best/, "q_auto:good");
                        var preload = document.createElement("link");
                        preload.rel = "preload";
                        preload.as = "image";
                        preload.href = lcpUrl;
                        preload.fetchPriority = "high";
                        document.head.appendChild(preload);
                        var img = document.getElementById("dailyImage");
                        if (img) img.src = lcpUrl;
                    })();
                    </script>

                    <section class="free-play-section" aria-labelledby="gallery-heading">
                        <h2 id="gallery-heading">Explore Gallery</h2>
                        <p>Beautiful nature photography puzzles</p>
                        <div class="category-filter" role="group" aria-label="Filter by category">
                            <button type="button" class="filter-btn active" data-category="all">All</button>
                            <button type="button" class="filter-btn" data-category="butterflies" aria-label="Butterflies">ü¶ã</button>
                            <button type="button" class="filter-btn" data-category="flowers" aria-label="Flowers">üå∏</button>
                            <button type="button" class="filter-btn" data-category="horses" aria-label="Horses">üê¥</button>
                            <button type="button" class="filter-btn" data-category="landscapes" aria-label="Landscapes">üèîÔ∏è</button>
                        </div>
                        <div id="puzzleGallery" class="puzzle-gallery" aria-label="Puzzle gallery">
                            <!-- Puzzles loaded via JavaScript -->
                        </div>
                        <div class="gallery-cta">
                            <p>‚ù§Ô∏è Love these images?</p>
                            <a href="https://www.prettyfoto.com/shop-art" target="_blank" rel="noopener" class="gallery-shop-btn">Shop Art Prints at PrettyFoto.com</a>
                            <p class="cta-discount">Use code <strong>EVERYWHERE26</strong> for 25% off!</p>
                        </div>
                    </section>
                </div>
            </section>

            <section id="puzzleView" class="view hidden" aria-label="Puzzle play" aria-live="polite">
                <nav class="puzzle-nav" aria-label="Puzzle actions">
                    <button id="backBtn" class="icon-btn" type="button">‚Üê Back</button>
                    <div class="nav-links">
                        <a href="#" id="browseGalleryLink" class="gallery-link hidden">üñºÔ∏è Browse gallery</a>
                        <a id="galleryLink" href="#" target="_blank" rel="noopener" class="gallery-link">üñºÔ∏è See Collection</a>
                        <a id="shopLink" href="#" target="_blank" rel="noopener" class="shop-btn">üõí Buy This Print</a>
                    </div>
                </nav>
                <div class="puzzle-title-bar">
                    <h2 id="puzzleTitle">Puzzle</h2>
                    <span id="dailyBadge" class="daily-badge-small hidden" aria-hidden="true">Daily #<span id="dailyBadgeNum">1</span></span>
                </div>
                <div id="difficultySelect" class="difficulty-select" role="group" aria-label="Choose difficulty">
                    <div class="preview-container">
                        <img id="puzzlePreview" src="" alt="Puzzle preview ‚Äì study the image" width="300" height="300">
                        <p class="preview-hint">Study the image, then choose difficulty</p>
                    </div>
                    <div class="difficulty-options">
                        <button type="button" class="difficulty-btn" data-size="3" aria-label="Easy, 3 by 3 grid">
                            <span class="diff-label">Easy</span>
                            <span class="diff-grid">3√ó3</span>
                        </button>
                        <button type="button" class="difficulty-btn recommended" data-size="4" aria-label="Medium, 4 by 4 grid">
                            <span class="diff-label">Medium</span>
                            <span class="diff-grid">4√ó4</span>
                        </button>
                        <button type="button" class="difficulty-btn" data-size="5" aria-label="Hard, 5 by 5 grid">
                            <span class="diff-label">Hard</span>
                            <span class="diff-grid">5√ó5</span>
                        </button>
                    </div>
                </div>
                <div id="gameArea" class="game-area hidden" role="region" aria-label="Game area" aria-hidden="true">
                    <div class="stats-bar" role="status" aria-live="polite" aria-atomic="true">
                        <div class="stat">
                            <span class="stat-icon" aria-hidden="true">‚è±Ô∏è</span>
                            <span id="timer" class="stat-value" aria-label="Elapsed time">0:00</span>
                        </div>
                        <div class="stat">
                            <span class="stat-icon" aria-hidden="true">üëÜ</span>
                            <span id="moves" class="stat-value" aria-label="Number of moves">0</span>
                        </div>
                        <button id="hintBtn" class="hint-btn" type="button" aria-label="Show hint image">üëÅÔ∏è</button>
                    </div>
                    <div class="puzzle-container">
                        <div id="puzzleBoard" class="puzzle-board" role="group" aria-label="Sliding tile puzzle board">
                            <!-- Tiles generated by JavaScript -->
                        </div>
                    </div>
                    <button id="shuffleBtn" class="shuffle-btn hidden" type="button">üîÄ Shuffle Again</button>
                </div>
            </section>
        </main>

        <div id="storyModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="storyTitle" aria-hidden="true">
            <div class="modal-content story-modal">
                <button id="closeStoryModal" class="close-btn" type="button" aria-label="Close story">√ó</button>
                <div class="story-image-container">
                    <img id="storyImage" src="" alt="Story image">
                </div>
                <div class="story-content">
                    <h2 id="storyTitle" class="story-title">Image Title</h2>
                    <div class="story-meta">
                        <span class="story-location">üìç <span id="storyLocation">Location</span></span>
                        <span class="story-season">üóìÔ∏è <span id="storySeason">Season</span></span>
                    </div>
                    <p id="storyMoment" class="story-moment">The story behind this moment...</p>
                    <div id="storyTags" class="story-tags">
                        <!-- Tags rendered by JS -->
                    </div>
                    <div class="story-actions">
                        <a id="storyShopLink" href="#" target="_blank" class="play-daily-btn">üõí Own This Moment</a>
                        <button id="storyPlayBtn" class="play-daily-btn secondary">üß© Play Puzzle</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="onboardingModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="onboardingHeading" aria-hidden="true">
            <div class="modal-content onboarding-modal">
                <div class="onboarding-slide active" data-slide="1">
                    <div class="onboarding-icon" aria-hidden="true">üß©</div>
                    <h2 id="onboardingHeading">Welcome to PrettyFoto Puzzles!</h2>
                    <p>Solve beautiful nature photo puzzles</p>
                </div>
                <div class="onboarding-slide" data-slide="2">
                    <div class="onboarding-icon">üëÜ</div>
                    <h2>How to Play</h2>
                    <p>Tap any tile next to the empty space to slide it</p>
                </div>
                <div class="onboarding-slide" data-slide="3">
                    <div class="onboarding-icon">üìÖ</div>
                    <h2>Daily Challenge</h2>
                    <p>New puzzle every day - track your streak!</p>
                </div>
                <div class="onboarding-nav">
                    <div class="onboarding-dots">
                        <span class="dot active" data-slide="1"></span>
                        <span class="dot" data-slide="2"></span>
                        <span class="dot" data-slide="3"></span>
                    </div>
                    <button id="onboardingNext" class="onboarding-btn" type="button">Next</button>
                </div>
            </div>
        </div>

        <div id="emailModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="emailModalHeading" aria-hidden="true">
            <div class="modal-content email-modal">
                <button id="closeEmail" class="close-btn" type="button" aria-label="Close">√ó</button>
                <div class="email-icon" aria-hidden="true">üéÅ</div>
                <h2 id="emailModalHeading">Nice Solve!</h2>
                <p>Get <strong>25% off</strong> your first art print!</p>
                <p class="email-subtext">Use code: <strong>EVERYWHERE26</strong></p>
                <a href="https://www.prettyfoto.com/shop-art" target="_blank" class="email-shop-btn">Shop Now ‚Üí</a>
                <button id="skipEmail" class="skip-link" type="button">Maybe later</button>
            </div>
        </div>

        <div id="statsModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="statsModalHeading" aria-hidden="true">
            <div class="modal-content stats-modal">
                <button id="closeStats" class="close-btn" type="button" aria-label="Close statistics">√ó</button>
                <h2 id="statsModalHeading">Statistics</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <span class="stat-box-value" id="statPlayed">0</span>
                        <span class="stat-box-label">Played</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-box-value" id="statWon">0</span>
                        <span class="stat-box-label">Won</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-box-value" id="statStreak">0</span>
                        <span class="stat-box-label">Streak</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-box-value" id="statBest">0</span>
                        <span class="stat-box-label">Best</span>
                    </div>
                </div>
                <div class="stats-detail">
                    <p>Average moves: <strong id="statAvgMoves">-</strong></p>
                    <p>Average time: <strong id="statAvgTime">-</strong></p>
                </div>
                <div id="todayResult" class="today-result hidden">
                    <h3>Today's Result</h3>
                    <p id="todayResultText"></p>
                </div>
                
                <!-- Analytics Section (Owner Insights) -->
                <div class="analytics-section">
                    <h3>üìä Play Patterns</h3>
                    <div class="analytics-grid">
                        <div class="analytics-item">
                            <span class="analytics-value" id="statDailyFirst">0</span>
                            <span class="analytics-label">Daily First</span>
                        </div>
                        <div class="analytics-item">
                            <span class="analytics-value" id="statGalleryFirst">0</span>
                            <span class="analytics-label">Gallery First</span>
                        </div>
                        <div class="analytics-item">
                            <span class="analytics-value" id="statDailyPlays">0</span>
                            <span class="analytics-label">Daily Solved</span>
                        </div>
                        <div class="analytics-item">
                            <span class="analytics-value" id="statGalleryPlays">0</span>
                            <span class="analytics-label">Gallery Solved</span>
                        </div>
                    </div>
                    <p class="analytics-insight" id="analyticsInsight"></p>
                </div>
            </div>
        </div>

        <div id="completionModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="completionHeading" aria-hidden="true">
            <div class="modal-content">
                <div class="completion-header">
                    <span class="completion-icon" aria-hidden="true">üéâ</span>
                    <h2 id="completionHeading">Solved!</h2>
                </div>
                <div class="completion-image">
                    <img id="completedImage" src="" alt="Completed puzzle">
                </div>
                <div class="completion-stats">
                    <div class="comp-stat">
                        <span class="comp-stat-value" id="finalTime">0:00</span>
                        <span class="comp-stat-label">Time</span>
                    </div>
                    <div class="comp-stat">
                        <span class="comp-stat-value" id="finalMoves">0</span>
                        <span class="comp-stat-label">Moves</span>
                    </div>
                </div>
                
                <!-- See Story + Share -->
                <div id="shareSection" class="share-section">
                    <div class="share-section-buttons">
                        <button id="viewStoryBtn" class="share-extra-btn">üìñ See Story</button>
                        <button id="shareResultBtn" class="share-extra-btn">üì§ Share to Instagram, Facebook & more</button>
                    </div>
                </div>

                <!-- Shop CTA - Always visible -->
                <div class="completion-cta">
                    <p>Love this image?</p>
                    <div class="completion-links">
                        <a id="completionShopLink" href="#" target="_blank" class="cta-btn primary">
                            üõí Buy This Print
                        </a>
                        <a id="completionGalleryLink" href="#" target="_blank" class="cta-btn gallery">
                            üñºÔ∏è Browse Collection
                        </a>
                    </div>
                    <p class="cta-code">Use code <strong>EVERYWHERE26</strong> for 25% off!</p>
                </div>
                
                <div class="completion-actions">
                    <button id="playAgainBtn" class="cta-btn secondary">Play Again</button>
                    <button id="newPuzzleBtn" class="cta-btn secondary">New Puzzle</button>
                </div>
            </div>
        </div>

        <div id="hintModal" class="modal hidden" role="dialog" aria-modal="true" aria-label="Hint ‚Äì reference image" aria-hidden="true">
            <div class="modal-content hint-modal">
                <img id="hintImage" src="" alt="Reference image for current puzzle">
                <p>Tap anywhere to close</p>
            </div>
        </div>

        <canvas id="confetti" class="confetti-canvas" aria-hidden="true"></canvas>

        <footer class="footer" role="contentinfo">
            <p>Photos by <a href="https://www.prettyfoto.com" target="_blank" rel="noopener">PrettyFoto.com</a> ¬∑ <a href="https://www.prettyfoto.com/shop-art" target="_blank" rel="noopener">Shop Art</a></p>
            <button id="installBtn" class="install-btn hidden" type="button" aria-label="Install app">üì≤ Install App</button>
        </footer>
    </div>

    <script src="app.min.js" defer></script>
</body>
</html>
